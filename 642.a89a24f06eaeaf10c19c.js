(self.webpackChunksoftuni_angular_exam=self.webpackChunksoftuni_angular_exam||[]).push([[642],{7642:(e,r,t)=>{"use strict";t.r(r),t.d(r,{MarketModule:()=>xe});var n=t(3813),o=t(1116),a=t(1462),i=t(4601),c=t(5366),s=t(996);const g=function(){return["buy"]},l=function(){return["sell"]};let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-market"]],decls:9,vars:4,consts:[[1,"container"],[1,"sell-buy-car"],[1,"sell-buy-car__router-links"],["routerLinkActive","categories-active",3,"routerLink"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"app-categories-info"),c.TgZ(2,"div",1),c.TgZ(3,"ul",2),c.TgZ(4,"li",3),c._uU(5," Buy Second Hand Car "),c.qZA(),c.TgZ(6,"li",3),c._uU(7," Sell Your Car "),c.qZA(),c.qZA(),c._UZ(8,"router-outlet"),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Q6J("routerLink",c.DdM(2,g)),c.xp6(2),c.Q6J("routerLink",c.DdM(3,l)))},directives:[s.x,n.Od,n.rH,n.lC],styles:[".sell-buy-car__router-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:10px;border-top-left-radius:20px;border-top-right-radius:20px;box-shadow:0 0 5px 1px #000000bf;background-color:#00000080}.sell-buy-car__router-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;border:none;outline:none;-webkit-user-select:none;user-select:none;border-radius:3px;text-align:center;box-sizing:border-box;list-style:none;padding:15px;color:#fff;font-size:1.3em;width:calc(50% - 1px);background-color:#b53636}@media not all and (pointer:coarse){.sell-buy-car__router-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{position:relative;top:-3px}}.sell-buy-car__router-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}.sell-buy-car__router-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){border-top-right-radius:20px}.sell-buy-car__router-links[_ngcontent-%COMP%]   .categories-active[_ngcontent-%COMP%]{background-color:#8e2a2a;color:#999}"]}),e})();var d=t(7653),_=t(9410),p=t(6659),u=t(2588),h=t(71),f=t(1872),C=t(2785),b=t(7738);function x(e,r){1&e&&c._UZ(0,"app-loading-spinner")}function I(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"button",16),c.NdJ("click",function(){return c.CHM(e),c.oxw().edit()}),c._uU(2,"Edit Car"),c.qZA(),c.qZA()}}function Z(e,r){if(1&e&&c._UZ(0,"app-car-images",20),2&e){const e=c.oxw(2);c.Q6J("carImgs",e.car.carImages)}}function M(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"div",17),c.TgZ(1,"button",18),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return r.onShowCarImages(r.car.id)}),c._uU(2,"View Images"),c.qZA(),c.YNc(3,Z,1,1,"app-car-images",19),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.Q6J("ngIf",e.carImagesParams.carShowImages&&e.carImagesParams.carId==e.car.id)}}function O(e,r){1&e&&(c.TgZ(0,"p",21),c._uU(1,"No images uploaded"),c.qZA())}function P(e,r){1&e&&c._UZ(0,"app-loading-spinner")}function w(e,r){1&e&&(c.TgZ(0,"div"),c.TgZ(1,"p",43),c._uU(2,"There are no images uploaded"),c.qZA(),c.qZA())}function v(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"div",47),c._UZ(1,"img",28),c.TgZ(2,"div",48),c.NdJ("click",function(){const r=c.CHM(e),t=r.index,n=r.$implicit;return c.oxw(3).deleteCurrentImages(t,n)}),c._uU(3,"X"),c.qZA(),c.qZA()}if(2&e){const e=r.$implicit;c.xp6(1),c.Q6J("src",e,c.LSH)}}function q(e,r){if(1&e&&(c.TgZ(0,"div",44),c.TgZ(1,"p",30),c._uU(2,"Current Images"),c.qZA(),c.TgZ(3,"div",45),c.YNc(4,v,4,1,"div",46),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(4),c.Q6J("ngForOf",e.currentCarImages)}}function T(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"div",47),c._UZ(1,"img",28),c.TgZ(2,"div",48),c.NdJ("click",function(){const r=c.CHM(e).index;return c.oxw(3).removeCarImg(r)}),c._uU(3,"X"),c.qZA(),c.qZA()}if(2&e){const e=r.$implicit;c.xp6(1),c.Q6J("src",e,c.LSH)}}function k(e,r){if(1&e&&(c.TgZ(0,"div",44),c.TgZ(1,"p",30),c._uU(2,"New Images"),c.qZA(),c.TgZ(3,"div",45),c.YNc(4,T,4,1,"div",46),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(4),c.Q6J("ngForOf",e.carImgLocalPaths)}}function A(e,r){if(1&e&&(c.TgZ(0,"p",49),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.uploadCarImagesToFirestoreError)}}function U(e,r){if(1&e&&(c.TgZ(0,"p",49),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.updateSecondHandCarError)}}function y(e,r){if(1&e&&(c.TgZ(0,"p",49),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.setcarImgURLsError)}}function F(e,r){if(1&e&&(c.TgZ(0,"p",49),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.deleteOldImgError)}}function L(e,r){if(1&e&&(c.TgZ(0,"p",49),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.getCarImgURLError)}}function N(e,r){if(1&e&&(c.TgZ(0,"p",49),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.uploadCarImgToFirestoreError)}}function J(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"div",22),c.YNc(1,P,1,0,"app-loading-spinner",1),c.TgZ(2,"form",23),c.NdJ("ngSubmit",function(){c.CHM(e);const r=c.oxw();return r.submitCarDetailChanges(r.changeCarDetailsForm)}),c.TgZ(3,"div",24),c.TgZ(4,"input",25,26),c.NdJ("change",function(r){return c.CHM(e),c.oxw().onChooseCarImg(r)}),c.qZA(),c.TgZ(6,"div",27),c._UZ(7,"img",28),c.qZA(),c.TgZ(8,"button",16),c.NdJ("click",function(){return c.CHM(e),c.MAs(5).click()}),c._uU(9,"Change Car Image"),c.qZA(),c.qZA(),c._UZ(10,"hr",4),c.TgZ(11,"div",29),c.TgZ(12,"p",30),c._uU(13,"Description"),c.qZA(),c._UZ(14,"textarea",31),c.qZA(),c.TgZ(15,"div",32),c.TgZ(16,"p",30),c._uU(17,"Price"),c.qZA(),c._UZ(18,"input",33),c.qZA(),c._UZ(19,"hr",4),c.TgZ(20,"div",34),c.TgZ(21,"div"),c.YNc(22,w,3,0,"div",1),c.YNc(23,q,5,1,"div",35),c.YNc(24,k,5,1,"div",35),c.qZA(),c.TgZ(25,"div",36),c.TgZ(26,"input",37,38),c.NdJ("change",function(r){return c.CHM(e),c.oxw().onChooseCarImgs(r)}),c.qZA(),c.TgZ(28,"button",39),c.NdJ("click",function(){return c.CHM(e),c.MAs(27).click()}),c._uU(29," Select Images "),c.qZA(),c.qZA(),c.qZA(),c._UZ(30,"hr",4),c.TgZ(31,"div",40),c.TgZ(32,"button",41),c._uU(33,"Apply Changes"),c.qZA(),c.TgZ(34,"button",16),c.NdJ("click",function(){return c.CHM(e),c.oxw().cancelChanges()}),c._uU(35,"Cancel"),c.qZA(),c.qZA(),c.TgZ(36,"div"),c.YNc(37,A,2,1,"p",42),c.YNc(38,U,2,1,"p",42),c.YNc(39,y,2,1,"p",42),c.YNc(40,F,2,1,"p",42),c.YNc(41,L,2,1,"p",42),c.YNc(42,N,2,1,"p",42),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.isLoading),c.xp6(1),c.Q6J("formGroup",e.changeCarDetailsForm),c.xp6(5),c.Q6J("src",e.carImgLocalPath,c.LSH),c.xp6(15),c.Q6J("ngIf",!e.car.carImages||0==e.currentCarImages.length),c.xp6(1),c.Q6J("ngIf",e.currentCarImages.length>0),c.xp6(1),c.Q6J("ngIf",e.carImgLocalPaths.length>0),c.xp6(13),c.Q6J("ngIf",e.uploadCarImagesToFirestoreError),c.xp6(1),c.Q6J("ngIf",e.updateSecondHandCarError),c.xp6(1),c.Q6J("ngIf",e.setcarImgURLsError),c.xp6(1),c.Q6J("ngIf",e.deleteOldImgError),c.xp6(1),c.Q6J("ngIf",e.getCarImgURLError),c.xp6(1),c.Q6J("ngIf",e.uploadCarImgToFirestoreError)}}const E=function(e){return{"background-image":e}};let Y=(()=>{class e{constructor(e,r,t,n,o,a){this._authService=e,this._sharedParams=r,this._formBuilder=t,this._firestoreCollections=n,this._angularFireStorage=o,this._generateIdService=a,this.isInEditMode=!1,this.carFiles=[],this.carImgNames=[],this.carImgLocalPaths=[],this.carImgURLs=[],this.currentCarImages=[],this.uploadCarImagesToFirestoreError="",this.updateSecondHandCarError="",this.setcarImgURLsError="",this.isLoading=!1,this.deleteOldImgError="",this.getCarImgURLError="",this.uploadCarImgToFirestoreError="",this.currentImageForDelete=[]}ngOnInit(){this._authService.user.subscribe(e=>{this.user=e}),this._carImagesParamsSubscription=this._sharedParams.carImagesParamsSubject.subscribe(e=>{this.carImagesParams=e}),this.changeCarDetailsForm=this._formBuilder.group({carImg:[null],model:[null],description:[null,a.kI.required],price:[null,a.kI.required],carImgs:[null]}),this.currentCarImages=[...this.car.carImages],this.carImgLocalPath=this.car.carImg}ngOnDestroy(){this._carImagesParamsSubscription.unsubscribe()}onShowCarImages(e){this._sharedParams.showCarImages(e)}submitCarDetailChanges(e){if(!e.valid)return;this.isLoading=!0;const r=this.car.id;let t=this.car.carImg;const n=this.car.model;this.uploadCarImageToFirestore(r).then(()=>{if(e.value.carImg&&(t=e.value.carImg),this.currentImageForDelete.length>0)for(let e=0;e<this.currentImageForDelete.length;e++)this._firestoreCollections.delete(this.currentImageForDelete[e]),this._firestoreCollections.deleteSecondHandCurrentImage(n,r,this.currentImageForDelete[e]);this.uploadCarImagesToFirestore(r).then(()=>{if(this.carImgNames.length>0)for(let t=0;t<this.carImgNames.length;t++)this._firestoreCollections.updateSecondHandImagesCar({doc:n,id:r,img:e.value.carImgs[t]});this._firestoreCollections.updateSecondHandCar({carImg:t,description:e.value.description,price:e.value.price,id:r,doc:n}).then(()=>{this.isLoading=!1,this.updateSecondHandCarError="",this.cancelChanges()},e=>{this.isLoading=!1,this.updateSecondHandCarError=e.message})})})}uploadCarImageToFirestore(e){return new Promise(r=>{this.carFile||r(),this._angularFireStorage.upload("/carsForSell/"+this.changeCarDetailsForm.value.model+"/"+this.user.email+"/"+e+"/"+this.carFile.name,this.carFile).then(e=>{e.ref.getDownloadURL().then(e=>{this.changeCarDetailsForm.value.carImg=e,this._firestoreCollections.delete(this.car.carImg).then(()=>{this.deleteOldImgError=""},e=>{this.deleteOldImgError=e.message}),this.getCarImgURLError=""},e=>{this.getCarImgURLError=e.message}),this.uploadCarImgToFirestoreError=""},e=>{this.uploadCarImgToFirestoreError=e.message})})}uploadCarImagesToFirestore(e){return new Promise(r=>{0==this.carImgNames.length&&r();for(let t=0;t<this.carImgNames.length;t++)this._angularFireStorage.upload("/carsForSell/"+this.changeCarDetailsForm.value.model+"/"+this.user.email+"/"+e+"//carImages/"+this._generateIdService.generateId()+"-"+this.carImgNames[t],this.carFiles[t]).then(e=>{e.ref.getDownloadURL().then(e=>{this.carImgURLs.push(e),this.carImgURLs.length==this.carImgNames.length&&(this.changeCarDetailsForm.value.carImgs=this.carImgURLs,this.setcarImgURLsError="",r())},e=>{this.setcarImgURLsError=e.message}),this.uploadCarImagesToFirestoreError=""},e=>{this.uploadCarImagesToFirestoreError=e.message})})}onChooseCarImg(e){if(this.carFile=e.target.files[0],this.carFile){const r=new FileReader;r.onload=e=>{this.carImgLocalPath=e.target.result},r.readAsDataURL(e.target.files[0])}else this.carImgLocalPath=this.car.carImg}onChooseCarImgs(e){for(let r=0;r<e.target.files.length;r++){this.carFiles.push(e.target.files[r]);const t=new FileReader;t.onload=e=>{this.carImgLocalPaths.push(e.target.result)},t.readAsDataURL(e.target.files[r]),this.carImgNames.push(this.carFiles[r].name)}}edit(){this.changeCarDetailsForm.controls.description.setValue(this.car.description),this.changeCarDetailsForm.controls.price.setValue(this.car.price),this.changeCarDetailsForm.controls.model.setValue(this.car.model),this.isInEditMode=!0}removeCarImg(e){this.carImgLocalPaths.splice(e,1),this.carImgNames.splice(e,1),this.carFiles.splice(e,1),0==this.carFiles&&(this.changeCarDetailsForm.value.carImgs=null)}deleteCurrentImages(e,r){this.currentCarImages.splice(e,1),this.currentImageForDelete.push(r)}cancelChanges(){this.carFiles=[],this.carImgLocalPaths=[],this.carImgNames=[],this.changeCarDetailsForm.controls.carImgs.setValue(""),this.changeCarDetailsForm.controls.carImg.setValue(""),this.carImgLocalPath=this.car.carImg,this.currentCarImages=[...this.car.carImages],this.currentImageForDelete=[],this.isInEditMode=!1}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(p.e),c.Y36(u.T),c.Y36(a.qu),c.Y36(d.P),c.Y36(h.Q1),c.Y36(f.U))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-buy-car-item"]],inputs:{car:"car"},decls:58,vars:56,consts:[[1,"car-buy-item","car-item"],[4,"ngIf"],[1,"car-buy-item__car-img",3,"ngStyle"],[1,"car-buy-item__model"],[1,"car-item__hr"],[1,"car-buy-item__description"],[1,"car-item__prise"],[1,"add-to-cart"],[1,"car-buy-item__owner-info"],[1,"owner"],[1,"owner-avatar",3,"ngStyle"],[1,"owner-info"],[3,"href"],["class","car-item__images",4,"ngIf"],["class","no-car-images",4,"ngIf"],["class","edit-container",4,"ngIf"],["type","button",1,"btn-default","narrow-btn",3,"click"],[1,"car-item__images"],[1,"btn-default","narrow-btn",3,"click"],[3,"carImgs",4,"ngIf"],[3,"carImgs"],[1,"no-car-images"],[1,"edit-container"],[1,"edit-container__form",3,"formGroup","ngSubmit"],[1,"edit-container__form__car-img"],["formControlName","carImg","type","file","accept",".png,.jpg,.jpeg,.svg,.heic",2,"display","none",3,"change"],["chooseCarImg",""],[1,"car-img-container"],[3,"src"],[1,"edit-container__form__text-area"],[1,"label-el"],["formControlName","description"],[1,"edit-container__form__price"],["type","number","name","price","formControlName","price"],[1,"edit-container__form__car-images"],["class","images-container",4,"ngIf"],[1,"select-images"],["formControlName","carImgs","type","file","accept",".png,.jpg,.jpeg,.svg,.heic","multiple","multiple",2,"display","none",3,"change"],["chooseCarImgs",""],["type","button",1,"btn-default","narrow-btn","ng-star-inserted",3,"click"],[1,"edit-container__form__buttons"],["type","submit",1,"btn-default","narrow-btn","submit"],["class","error-msg",4,"ngIf"],[1,"label-el","no-images"],[1,"images-container"],[1,"images"],["class","img-element",4,"ngFor","ngForOf"],[1,"img-element"],[3,"click"],[1,"error-msg"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c.YNc(1,x,1,0,"app-loading-spinner",1),c._UZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"p"),c._uU(5),c.qZA(),c.TgZ(6,"p"),c._uU(7),c.qZA(),c.qZA(),c._UZ(8,"hr",4),c.TgZ(9,"div",5),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.qZA(),c._UZ(12,"hr",4),c.TgZ(13,"div",6),c.TgZ(14,"div"),c.TgZ(15,"p"),c._uU(16),c.qZA(),c.qZA(),c.TgZ(17,"div",7),c.TgZ(18,"p"),c._uU(19,"Add to Cart"),c.qZA(),c.qZA(),c.qZA(),c._UZ(20,"hr",4),c.TgZ(21,"div",8),c.TgZ(22,"div",9),c.TgZ(23,"p"),c._uU(24,"Owner"),c.qZA(),c.YNc(25,I,3,0,"div",1),c.qZA(),c._UZ(26,"div",10),c.ALo(27,"async"),c.ALo(28,"getUserInfo"),c.TgZ(29,"div",11),c.TgZ(30,"p"),c._uU(31),c.ALo(32,"async"),c.ALo(33,"getUserInfo"),c.qZA(),c.TgZ(34,"p"),c._uU(35," Phone: "),c.TgZ(36,"a",12),c.ALo(37,"async"),c.ALo(38,"getUserInfo"),c.ALo(39,"async"),c.ALo(40,"getUserInfo"),c._uU(41),c.ALo(42,"async"),c.ALo(43,"getUserInfo"),c.ALo(44,"async"),c.ALo(45,"getUserInfo"),c.qZA(),c.qZA(),c.TgZ(46,"p"),c._uU(47,"Email: "),c.TgZ(48,"a",12),c._uU(49),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(50,"div"),c.TgZ(51,"p"),c._uU(52),c.ALo(53,"date"),c.qZA(),c.qZA(),c.TgZ(54,"div"),c.YNc(55,M,4,1,"div",13),c.YNc(56,O,2,0,"p",14),c.qZA(),c.YNc(57,J,43,12,"div",15),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",r.isLoading),c.xp6(1),c.Q6J("ngStyle",c.VKq(52,E,"url('"+(null==r.car?null:r.car.carImg)+"')")),c.xp6(3),c.Oqu(r.car.model),c.xp6(2),c.Oqu(r.car.year),c.xp6(4),c.Oqu(r.car.description),c.xp6(5),c.hij("$ ",r.car.price,""),c.xp6(9),c.Q6J("ngIf",(null==r.user?null:r.user.email)==r.car.owner),c.xp6(1),c.Q6J("ngStyle",c.VKq(54,E,c.lcZ(27,19,c.xi3(28,21,r.car.owner,"userImg")))),c.xp6(5),c.hij("Name: ",c.lcZ(32,24,c.xi3(33,26,r.car.owner,"name")),""),c.xp6(5),c.hYB("href","tel:\n            ",c.lcZ(37,29,c.xi3(38,31,r.car.owner,"phoneCode")),"\n            ",c.lcZ(39,34,c.xi3(40,36,r.car.owner,"phone")),"",c.LSH),c.xp6(5),c.AsE(" +",c.lcZ(42,39,c.xi3(43,41,r.car.owner,"phoneCode"))," ",c.lcZ(44,44,c.xi3(45,46,r.car.owner,"phone"))," "),c.xp6(7),c.MGl("href","mailto:",r.car.owner,"",c.LSH),c.xp6(1),c.Oqu(r.car.owner),c.xp6(3),c.hij("Created: ",c.xi3(53,49,r.car.date.toDate(),"dd.MM.yyyy"),""),c.xp6(3),c.Q6J("ngIf",r.car.carImages.length>0),c.xp6(1),c.Q6J("ngIf",0==r.car.carImages.length),c.xp6(1),c.Q6J("ngIf",r.isInEditMode))},directives:[o.O5,o.PC,_.g,C.q,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.wV,o.sg],pipes:[o.Ov,b.c,o.uU],styles:['.car-buy-item__car-img[_ngcontent-%COMP%]{width:100%;padding-top:56.25%;position:relative;margin-bottom:15px;background-repeat:no-repeat;background-size:cover;background-position:50%}.car-buy-item__car-img[_ngcontent-%COMP%], .car-buy-item__car-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;box-shadow:0 0 5px 1px #000000bf}.car-buy-item__car-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;height:100%;top:0;margin-left:50%;transform:translate(-50%)}.car-buy-item__model[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}.car-buy-item__description[_ngcontent-%COMP%]{white-space:pre-line;overflow:auto;height:75px;scrollbar-color:var(--color14) #0000;scrollbar-width:thin}.car-buy-item__description[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none}.car-buy-item__description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color14)}@media not all and (pointer:coarse){.car-buy-item__description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color16)}}.car-buy-item__description[_ngcontent-%COMP%]::-webkit-scrollbar:vertical{width:8px}.car-buy-item__description[_ngcontent-%COMP%]::-webkit-scrollbar:horizontal{height:8px}.car-buy-item__description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:8px}.car-buy-item__description[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:8px;background-color:initial}.car-buy-item__owner-info[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.car-buy-item__owner-info[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:#b53636;font-weight:700}.car-buy-item__owner-info[_ngcontent-%COMP%]   .owner-avatar[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:3px solid #b53636;background-size:cover;background-position:50%;display:block;margin:0 auto 15px}.car-buy-item__owner-info[_ngcontent-%COMP%]   .owner-info[_ngcontent-%COMP%]{margin-bottom:15px}.car-buy-item__owner-info[_ngcontent-%COMP%]   .owner-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b53636!important}.car-buy-item[_ngcontent-%COMP%]   .no-car-images[_ngcontent-%COMP%]{padding:12px 0;text-align:center}.car-item[_ngcontent-%COMP%]{padding:10px;margin:5px;border-radius:3px;box-sizing:border-box;box-shadow:0 0 5px 1px #000000bf;width:96%;background-color:var(--color12);border:1px solid var(--color9);color:var(--color6);display:inline-block;vertical-align:top}@media only screen and (min-width:540px){.car-item[_ngcontent-%COMP%]{width:47%}}.car-item__img[_ngcontent-%COMP%]{box-shadow:0 0 5px 1px #000000bf;border-radius:3px;width:100%;margin-bottom:10px}.car-item__hr[_ngcontent-%COMP%]{margin:15px 0;border:none;border-top:1px solid #b53636}.car-item__info[_ngcontent-%COMP%]{text-align:center}.car-item__prise[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-weight:700}.car-item__prise[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{width:106px;box-sizing:border-box;color:#999;cursor:pointer;padding-right:20px;background-image:url(plus.ec8413fddb0e565caa3e.png);background-repeat:no-repeat;background-position:100%}@media not all and (pointer:coarse){.car-item__prise[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]:hover{color:#b53636}}.car-item__images[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.edit-container__form__price[_ngcontent-%COMP%]{position:relative}.edit-container__form__price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px!important}.edit-container__form__price[_ngcontent-%COMP%]:before{position:absolute;top:39px;content:"$";left:5px}.edit-container[_ngcontent-%COMP%]{position:fixed;top:50px;left:0;width:100%;height:100vh;background-color:#000000e6;z-index:500}.edit-container__form[_ngcontent-%COMP%]{max-width:980px;margin:0 auto;padding:10px;height:calc(100vh - 50px);overflow:auto;box-sizing:border-box;scrollbar-color:var(--color14) #0000;scrollbar-width:thin}.edit-container__form[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none}.edit-container__form[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color14)}@media not all and (pointer:coarse){.edit-container__form[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color16)}}.edit-container__form[_ngcontent-%COMP%]::-webkit-scrollbar:vertical{width:8px}.edit-container__form[_ngcontent-%COMP%]::-webkit-scrollbar:horizontal{height:8px}.edit-container__form[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:8px}.edit-container__form[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:8px;background-color:initial}.edit-container__form__car-img[_ngcontent-%COMP%]{text-align:center}.edit-container__form__car-img[_ngcontent-%COMP%]   .car-img-container[_ngcontent-%COMP%]{margin-bottom:15px}.edit-container__form__car-img[_ngcontent-%COMP%]   .car-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:112px}.edit-container__form__text-area[_ngcontent-%COMP%]{margin:0 auto;max-width:500px}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{outline-color:#b53636;background-color:var(--color12);border:1px solid var(--color9);border-radius:5px;font-size:1.2em;padding:10px;resize:none;width:100%;height:100px;margin-bottom:20px;box-sizing:border-box;color:var(--color7);scrollbar-color:var(--color14) #0000;scrollbar-width:thin}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#b53636}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#b53636}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-moz-placeholder, .edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#b53636}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#b53636}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color14)}@media not all and (pointer:coarse){.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color16)}}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar:vertical{width:8px}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar:horizontal{height:8px}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:8px}.edit-container__form__text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:8px;background-color:initial}.edit-container__form__price[_ngcontent-%COMP%]{margin:0 auto;max-width:500px;color:var(--color7)}.edit-container__form__price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:3px;background-color:var(--color12);border:1px solid var(--color8);color:var(--color7);outline:none;padding:10px;width:100%;box-sizing:border-box}.edit-container__form__price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .edit-container__form__price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}.edit-container__form__car-images[_ngcontent-%COMP%]   .images-container[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{max-height:400px;padding:10px;flex-wrap:wrap;overflow:auto;border-radius:3px;background-color:var(--color12);border:1px solid var(--color8);display:flex;justify-content:center;align-items:center;margin-bottom:10px}.edit-container__form__car-images[_ngcontent-%COMP%]   .images-container[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .img-element[_ngcontent-%COMP%]{position:relative;padding:3px}.edit-container__form__car-images[_ngcontent-%COMP%]   .images-container[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .img-element[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:112px;border-radius:3px}.edit-container__form__car-images[_ngcontent-%COMP%]   .images-container[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .img-element[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;border:none;outline:none;-webkit-user-select:none;user-select:none;padding:10px;border-radius:3px;position:absolute;top:7px;right:7px;width:6px;height:6px;font-weight:700;color:#fff;background-color:#b53636;border-radius:50%;display:flex;justify-content:center;align-items:center}.edit-container__form__buttons[_ngcontent-%COMP%], .edit-container__form__car-images[_ngcontent-%COMP%]   .no-images[_ngcontent-%COMP%], .edit-container__form__car-images[_ngcontent-%COMP%]   .select-images[_ngcontent-%COMP%]{text-align:center}.edit-container__form__buttons[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{margin-right:15px}.edit-container__form[_ngcontent-%COMP%]   .label-el[_ngcontent-%COMP%]{padding-bottom:10px;color:#fff}']}),e})();function Q(e,r){1&e&&c._UZ(0,"app-loading-spinner")}function S(e,r){1&e&&c._UZ(0,"app-buy-car-item",5),2&e&&c.Q6J("car",r.$implicit)}function D(e,r){if(1&e&&(c.TgZ(0,"p",6),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.errorMsg)}}let R=(()=>{class e{constructor(e){this._firestoreCollections=e,this.isLoading=!0,this.errorMsg=""}ngOnInit(){this._firestoreCollections.getSecondHandAudi().subscribe(e=>{this.audiCars=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.isLoading=!1,this.errorMsg=""},e=>{this.isLoading=!1,this.errorMsg=e.message})}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(d.P))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-audi"]],decls:5,vars:3,consts:[[1,"cars-container"],[4,"ngIf"],[1,"cars"],[3,"car",4,"ngFor","ngForOf"],["class","error-msg",4,"ngIf"],[3,"car"],[1,"error-msg"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c.YNc(1,Q,1,0,"app-loading-spinner",1),c.TgZ(2,"div",2),c.YNc(3,S,1,1,"app-buy-car-item",3),c.qZA(),c.YNc(4,D,2,1,"p",4),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",r.isLoading),c.xp6(2),c.Q6J("ngForOf",r.audiCars),c.xp6(1),c.Q6J("ngIf",r.errorMsg))},directives:[o.O5,o.sg,_.g,Y],styles:[""]}),e})();function H(e,r){1&e&&c._UZ(0,"app-loading-spinner")}function j(e,r){1&e&&c._UZ(0,"app-buy-car-item",5),2&e&&c.Q6J("car",r.$implicit)}function z(e,r){if(1&e&&(c.TgZ(0,"p",6),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.errorMsg)}}let V=(()=>{class e{constructor(e){this._firestoreCollections=e,this.isLoading=!0,this.errorMsg=""}ngOnInit(){this._firestoreCollections.getSecondHandBMW().subscribe(e=>{this.bmwCars=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.isLoading=!1,this.errorMsg=""},e=>{this.isLoading=!1,this.errorMsg=e.message})}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(d.P))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-bmw"]],decls:5,vars:3,consts:[[1,"cars-container"],[4,"ngIf"],[1,"cars"],[3,"car",4,"ngFor","ngForOf"],["class","error-msg",4,"ngIf"],[3,"car"],[1,"error-msg"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c.YNc(1,H,1,0,"app-loading-spinner",1),c.TgZ(2,"div",2),c.YNc(3,j,1,1,"app-buy-car-item",3),c.qZA(),c.YNc(4,z,2,1,"p",4),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",r.isLoading),c.xp6(2),c.Q6J("ngForOf",r.bmwCars),c.xp6(1),c.Q6J("ngIf",r.errorMsg))},directives:[o.O5,o.sg,_.g,Y],styles:[""]}),e})();var $=t(5425),X=t(1858),B=t(3070),G=t(7064);function K(e,r){1&e&&c._UZ(0,"app-loading-spinner")}function W(e,r){if(1&e&&(c.TgZ(0,"p",28),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.getCarModelsError)}}function ee(e,r){if(1&e&&(c.TgZ(0,"p",28),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.getCarManufactureYearError)}}function re(e,r){if(1&e&&(c.TgZ(0,"mat-option",29),c._UZ(1,"img",30),c._uU(2),c.qZA()),2&e){const e=r.$implicit;c.Q6J("value",e.name),c.xp6(1),c.Q6J("src",e.carLogoUrl,c.LSH),c.xp6(1),c.hij(" ",e.name," ")}}function te(e,r){1&e&&(c.TgZ(0,"p",31),c._uU(1," The field is required! "),c.qZA())}function ne(e,r){if(1&e&&(c.TgZ(0,"mat-option",29),c._uU(1),c.qZA()),2&e){const e=r.$implicit;c.Q6J("value",e.year),c.xp6(1),c.hij(" ",e.year," ")}}function oe(e,r){1&e&&(c.TgZ(0,"p",31),c._uU(1," The field is required! "),c.qZA())}function ae(e,r){1&e&&(c.TgZ(0,"p",31),c._uU(1," The field is required! "),c.qZA())}function ie(e,r){1&e&&(c.TgZ(0,"p",31),c._uU(1," Please enter information about the condition of your car! "),c.qZA())}function ce(e,r){if(1&e&&(c.TgZ(0,"div",15),c._UZ(1,"img",16),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("src",e.carDefaultImg,c.LSH)}}function se(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"div",34),c._UZ(1,"img",16),c.TgZ(2,"div",35),c.NdJ("click",function(){const r=c.CHM(e).index;return c.oxw(2).removeCarImg(r)}),c._uU(3,"X"),c.qZA(),c.qZA()}if(2&e){const e=r.$implicit;c.xp6(1),c.Q6J("src",e,c.LSH)}}function ge(e,r){if(1&e&&(c.TgZ(0,"div",32),c.YNc(1,se,4,1,"div",33),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.carImgLocalPaths)}}function le(e,r){if(1&e&&(c.TgZ(0,"p",28),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.sellCarError)}}function me(e,r){if(1&e&&(c.TgZ(0,"p",28),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.uploadCarImgToFirestoreError)}}function de(e,r){if(1&e&&(c.TgZ(0,"p",28),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.uploadCarImagesToFirestoreError)}}function _e(e,r){if(1&e&&(c.TgZ(0,"p",28),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.getCarImgURLError)}}function pe(e,r){if(1&e&&(c.TgZ(0,"p",28),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.getcarImgURLsError)}}const ue=function(e){return{"invalid no-border":e}};let he=(()=>{class e{constructor(e,r,t,n,o,a){this._formBuilder=e,this._firestoreCollections=r,this._generateIdService=t,this._angularFireStorage=n,this._authService=o,this._router=a,this.carModels=[],this.getCarModelsError="",this.carManufactureYears=[],this.getCarManufactureYearError="",this.isLoading=!1,this.getCarImgURLError="",this.uploadCarImgToFirestoreError="",this.carImgLocalPaths=[],this.carImgNames=[],this.carImgURLs=[],this.carFiles=[],this.getcarImgURLsError="",this.uploadCarImagesToFirestoreError="",this.carDefaultImg="../../../assets/images/market/upload-img.png",this.carImgLocalPath=this.carDefaultImg,this.sellCarError=""}ngOnInit(){this.sellCarForm=this._formBuilder.group({model:[null,a.kI.required],year:[null,a.kI.required],carImg:[null,a.kI.required],description:[null,a.kI.required],price:[null,a.kI.required],carImgs:[null]}),this._authService.user.subscribe(e=>{this.user=e}),this._firestoreCollections.getSecondHandCarsLink().subscribe(e=>{this.carModels=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.getCarModelsError=""},e=>{this.getCarModelsError=e.message}),this._firestoreCollections.getCarManufactureYears().subscribe(e=>{this.carManufactureYears=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.getCarManufactureYearError=""},e=>{this.getCarManufactureYearError=e.message})}onSubmit(e){if(e.invalid)return;this.isLoading=!0;const r=this._generateIdService.generateId();this.uploadCarImgToFirestore(r).then(()=>{this.uploadCarImagesToFirestore(r).then(()=>{const t=e.value.model,n=e.value.year,o=e.value.carImg,a=e.value.description.trim(),i=e.value.price,c=this.user.email,s=X.Z.firestore.Timestamp.now();this._firestoreCollections.setSecondHandCar({model:t,year:n,carImg:o,description:a,price:i,owner:c,id:r,date:s,carImages:e.value.carImgs}).then(()=>{this.isLoading=!1,this.sellCarForm.reset(),this._router.navigate(["/market/buy/"+t.toLowerCase()]),this.carImgNames=[],this.carImgLocalPaths=[],this.carImgURLs=[],this.carImgLocalPath=this.carDefaultImg,this.sellCarError=""}).catch(e=>{this.sellCarError=e.message})})})}uploadCarImgToFirestore(e){return new Promise((r,t)=>{this._angularFireStorage.upload("/carsForSell/"+this.sellCarForm.value.model+"/"+this.user.email+"/"+e+"/"+this.carFile.name,this.carFile).then(e=>{e.ref.getDownloadURL().then(e=>{this.sellCarForm.value.carImg=e,this.getCarImgURLError="",r()},e=>{this.getCarImgURLError=e.message}),this.uploadCarImgToFirestoreError=""},e=>{this.uploadCarImgToFirestoreError=e.message})})}onChooseCarImg(e){if(this.carFile=e.target.files[0],this.carFile){const r=new FileReader;r.onload=e=>{this.carImgLocalPath=e.target.result},r.readAsDataURL(e.target.files[0])}else this.carImgLocalPath=this.carDefaultImg}onChooseCarImgs(e){for(let r=0;r<e.target.files.length;r++){this.carFiles.push(e.target.files[r]);const t=new FileReader;t.onload=e=>{this.carImgLocalPaths.push(e.target.result)},t.readAsDataURL(e.target.files[r]),this.carImgNames.push(this.carFiles[r].name)}}uploadCarImagesToFirestore(e){return new Promise((r,t)=>{0==this.carImgNames.length&&(this.sellCarForm.value.carImgs=this.carImgURLs,r());for(let n=0;n<this.carImgNames.length;n++)this._angularFireStorage.upload("/carsForSell/"+this.sellCarForm.value.model+"/"+this.user.email+"/"+e+"//carImages/"+this._generateIdService.generateId()+"-"+this.carImgNames[n],this.carFiles[n]).then(e=>{e.ref.getDownloadURL().then(e=>{this.carImgURLs.push(e),this.carImgURLs.length==this.carImgNames.length&&(this.sellCarForm.value.carImgs=this.carImgURLs,this.getcarImgURLsError="",r())},e=>{this.getcarImgURLsError=e.message}),this.uploadCarImagesToFirestoreError=""},e=>{this.uploadCarImagesToFirestoreError=e.message})})}removeCarImg(e){this.carImgLocalPaths.splice(e,1),this.carImgNames.splice(e,1),this.carFiles.splice(e,1),0==this.carFiles&&(this.sellCarForm.value.carImgs=null)}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(a.qu),c.Y36(d.P),c.Y36(f.U),c.Y36(h.Q1),c.Y36(p.e),c.Y36(n.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-sell-car"]],decls:60,vars:25,consts:[[1,"sell-car-container"],[4,"ngIf"],["class","error-msg",4,"ngIf"],[1,"sell-car-container__form",3,"formGroup","ngSubmit"],[1,"sell-car-container__form__drop-downs"],[1,"sell-car-container__form__drop-downs__el"],[1,"el-label"],[3,"ngClass"],["formControlName","model"],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["formControlName","year"],[1,"sell-car-container__form__drop-downs__el","price"],["type","number","name","price","formControlName","price"],[1,"sell-car-container__form__hr"],[1,"defaut-img"],[3,"src"],["formControlName","carImg","type","file","accept",".png,.jpg,.jpeg,.svg,.heic",2,"display","none",3,"change"],["chooseCarImg",""],["type","button",1,"button","btn-default","narrow-btn","ng-star-inserted",3,"click"],[1,"info-text"],["placeholder","Description...","formControlName","description",1,"textarea"],[1,"sell-car-container__form__car-images"],["class","defaut-img",4,"ngIf"],["class","img-container",4,"ngIf"],["formControlName","carImgs","type","file","accept",".png,.jpg,.jpeg,.svg,.heic","multiple","multiple",2,"display","none",3,"change"],["chooseCarImgs",""],["type","submit",1,"button","btn-default","narrow-btn","ng-star-inserted",3,"disabled"],[1,"error-msg"],[3,"value"],[2,"width","60px","transform","translateY(5px)",3,"src"],[1,"error"],[1,"img-container"],["class","img-element",4,"ngFor","ngForOf"],[1,"img-element"],[3,"click"]],template:function(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.YNc(1,K,1,0,"app-loading-spinner",1),c.TgZ(2,"div"),c.YNc(3,W,2,1,"p",2),c.YNc(4,ee,2,1,"p",2),c.qZA(),c.TgZ(5,"form",3),c.NdJ("ngSubmit",function(){return r.onSubmit(r.sellCarForm)}),c.TgZ(6,"div",4),c.TgZ(7,"div",5),c.TgZ(8,"p",6),c._uU(9,"Model"),c.qZA(),c.TgZ(10,"mat-form-field",7),c.TgZ(11,"mat-select",8),c.YNc(12,re,3,3,"mat-option",9),c.qZA(),c.qZA(),c.YNc(13,te,2,0,"p",10),c.qZA(),c.TgZ(14,"div",5),c.TgZ(15,"p",6),c._uU(16,"Year"),c.qZA(),c.TgZ(17,"mat-form-field",7),c.TgZ(18,"mat-select",11),c.YNc(19,ne,2,2,"mat-option",9),c.qZA(),c.qZA(),c.YNc(20,oe,2,0,"p",10),c.qZA(),c.TgZ(21,"div",12),c.TgZ(22,"p",6),c._uU(23,"Price"),c.qZA(),c._UZ(24,"input",13),c.YNc(25,ae,2,0,"p",10),c.qZA(),c.qZA(),c._UZ(26,"hr",14),c.TgZ(27,"div"),c.TgZ(28,"div",15),c._UZ(29,"img",16),c.qZA(),c.TgZ(30,"input",17,18),c.NdJ("change",function(e){return r.onChooseCarImg(e)}),c.qZA(),c.TgZ(32,"button",19),c.NdJ("click",function(){return c.CHM(e),c.MAs(31).click()}),c._uU(33," Ch\u043eose Car Image "),c.qZA(),c.TgZ(34,"p",20),c._uU(35,"(The field is mandatory)"),c.qZA(),c.qZA(),c._UZ(36,"hr",14),c.TgZ(37,"div"),c._UZ(38,"textarea",21),c.YNc(39,ie,2,0,"p",10),c.qZA(),c._UZ(40,"hr",14),c.TgZ(41,"div",22),c.YNc(42,ce,2,1,"div",23),c.YNc(43,ge,2,1,"div",24),c.TgZ(44,"button",19),c.NdJ("click",function(){return c.CHM(e),c.MAs(49).click()}),c._uU(45," Ch\u043eose Car Images "),c.qZA(),c.TgZ(46,"p",20),c._uU(47,"(You could add images later)"),c.qZA(),c.TgZ(48,"input",25,26),c.NdJ("change",function(e){return r.onChooseCarImgs(e)}),c.qZA(),c.qZA(),c._UZ(50,"hr",14),c.TgZ(51,"div"),c.TgZ(52,"button",27),c._uU(53," Add to the Shop "),c.qZA(),c.qZA(),c.TgZ(54,"div"),c.YNc(55,le,2,1,"p",2),c.YNc(56,me,2,1,"p",2),c.YNc(57,de,2,1,"p",2),c.YNc(58,_e,2,1,"p",2),c.YNc(59,pe,2,1,"p",2),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(1),c.Q6J("ngIf",r.isLoading),c.xp6(2),c.Q6J("ngIf",r.getCarModelsError),c.xp6(1),c.Q6J("ngIf",r.getCarManufactureYearError),c.xp6(1),c.Q6J("formGroup",r.sellCarForm),c.xp6(5),c.Q6J("ngClass",c.VKq(21,ue,r.sellCarForm.get("model").invalid&&r.sellCarForm.get("model").touched)),c.xp6(2),c.Q6J("ngForOf",r.carModels),c.xp6(1),c.Q6J("ngIf",r.sellCarForm.get("model").invalid&&r.sellCarForm.get("model").touched),c.xp6(4),c.Q6J("ngClass",c.VKq(23,ue,r.sellCarForm.get("year").invalid&&r.sellCarForm.get("year").touched)),c.xp6(2),c.Q6J("ngForOf",r.carManufactureYears),c.xp6(1),c.Q6J("ngIf",r.sellCarForm.get("year").invalid&&r.sellCarForm.get("year").touched),c.xp6(5),c.Q6J("ngIf",r.sellCarForm.get("price").invalid&&r.sellCarForm.get("price").touched),c.xp6(4),c.Q6J("src",r.carImgLocalPath,c.LSH),c.xp6(10),c.Q6J("ngIf",r.sellCarForm.get("description").invalid&&r.sellCarForm.get("description").touched),c.xp6(3),c.Q6J("ngIf",0==r.carImgLocalPaths.length),c.xp6(1),c.Q6J("ngIf",r.carImgLocalPaths.length>0),c.xp6(9),c.Q6J("disabled",r.sellCarForm.invalid),c.xp6(3),c.Q6J("ngIf",r.sellCarError),c.xp6(1),c.Q6J("ngIf",r.uploadCarImgToFirestoreError),c.xp6(1),c.Q6J("ngIf",r.uploadCarImagesToFirestoreError),c.xp6(1),c.Q6J("ngIf",r.getCarImgURLError),c.xp6(1),c.Q6J("ngIf",r.getcarImgURLsError))},directives:[o.O5,a._Y,a.JL,a.sg,B.KE,o.mk,i.gD,a.JJ,a.u,o.sg,a.wV,a.Fj,_.g,G.ey],styles:['@import url("https://fonts.googleapis.com/css?family=Rubik&display=swap");.sell-car-container[_ngcontent-%COMP%]{position:relative;background-color:var(--color2);box-shadow:0 0 10px 1px #000000bf;border-radius:3px}.sell-car-container__form[_ngcontent-%COMP%]{max-width:767px;padding:20px;margin:0 auto}@media only screen and (min-width:540px){.sell-car-container__form__drop-downs[_ngcontent-%COMP%]{display:flex;align-items:stretch;justify-content:space-between}}.sell-car-container__form__drop-downs[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{position:relative;color:var(--color7)}.sell-car-container__form__drop-downs[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:3px;background-color:#ffffff80;border:1px solid var(--color8);color:var(--color7);outline:none;padding:10px 10px 10px 20px;width:100%;box-sizing:border-box}.sell-car-container__form__drop-downs[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .sell-car-container__form__drop-downs[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}.sell-car-container__form__drop-downs[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]:before{position:absolute;top:34px;content:"$";left:5px}.sell-car-container__form__drop-downs__el[_ngcontent-%COMP%]:nth-child(2), .sell-car-container__form__drop-downs__el[_ngcontent-%COMP%]:nth-child(3){margin-top:15px}@media only screen and (min-width:540px){.sell-car-container__form__drop-downs__el[_ngcontent-%COMP%]{width:33%}.sell-car-container__form__drop-downs__el[_ngcontent-%COMP%]:nth-child(2), .sell-car-container__form__drop-downs__el[_ngcontent-%COMP%]:nth-child(3){margin-top:0}}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{max-height:400px;padding:10px;flex-wrap:wrap;overflow:auto;border-radius:3px;background-color:#ffffff80;border:1px solid var(--color8);display:flex;justify-content:center;align-items:center;scrollbar-color:var(--color14) #0000;scrollbar-width:thin}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color14)}@media not all and (pointer:coarse){.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color16)}}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]::-webkit-scrollbar:vertical{width:8px}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]::-webkit-scrollbar:horizontal{height:8px}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:8px}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:8px;background-color:initial}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img-element[_ngcontent-%COMP%]{position:relative;padding:3px}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img-element[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:112px;border-radius:3px}.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img-element[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:7px;right:7px;width:6px;height:6px;font-weight:700;background-color:#b53636;border-radius:50%!important;display:flex;justify-content:center;align-items:center;cursor:pointer;border:none;outline:none;-webkit-user-select:none;user-select:none;padding:10px;border-radius:3px;color:#fff}@media not all and (pointer:coarse){.sell-car-container__form__car-images[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img-element[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#8e2a2a}}.sell-car-container__form__hr[_ngcontent-%COMP%]{margin:15px 0;border:none;border-top:1px solid #b53636}.sell-car-container__form[_ngcontent-%COMP%]   .el-label[_ngcontent-%COMP%]{color:var(--color7);margin-bottom:5px}.sell-car-container__form[_ngcontent-%COMP%]   .defaut-img[_ngcontent-%COMP%]{text-align:center}.sell-car-container__form[_ngcontent-%COMP%]   .defaut-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:112px;margin:0 auto;display:block;border-radius:3px}.sell-car-container__form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:15px auto;display:block}.sell-car-container__form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#b53636}.sell-car-container__form[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{color:#b53636;text-align:center;padding:5px 0}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{outline-color:#b53636;background-color:var(--color12);border:1px solid var(--color9);border-radius:5px;font-size:1.2em;padding:10px;resize:none;width:100%;height:100px;margin-bottom:20px;box-sizing:border-box;color:var(--color7);scrollbar-color:var(--color14) #0000;scrollbar-width:thin}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::placeholder{color:#b53636}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#b53636}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]:-moz-placeholder, .sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#b53636}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#b53636}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color14)}@media not all and (pointer:coarse){.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color16)}}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-scrollbar:vertical{width:8px}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-scrollbar:horizontal{height:8px}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:8px}.sell-car-container__form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:8px;background-color:initial}']}),e})();var fe=t(9672);function Ce(e,r){if(1&e&&(c.TgZ(0,"p",2),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.getCarLinksErrorMsg)}}let be=(()=>{class e{constructor(e){this._firestoreCollections=e,this.getCarLinksErrorMsg=""}ngOnInit(){this._firestoreCollections.getSecondHandCarsLink().subscribe(e=>{this.routerLinks=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.getCarLinksErrorMsg=""},e=>{this.getCarLinksErrorMsg=e.message})}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(d.P))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-buy-car"]],decls:3,vars:2,consts:[["class","error-msg",4,"ngIf"],[3,"routerLinks"],[1,"error-msg"]],template:function(e,r){1&e&&(c.TgZ(0,"div"),c.YNc(1,Ce,2,1,"p",0),c._UZ(2,"app-categories-router",1),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",r.getCarLinksErrorMsg),c.xp6(1),c.Q6J("routerLinks",r.routerLinks))},directives:[o.O5,fe.$],styles:[""]}),e})(),xe=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,$.m,a.UX,i.LD,n.Bz.forChild([{path:"",component:m,children:[{path:"buy",component:be,children:[{path:"audi",component:R},{path:"bmw",component:V},{path:"**",redirectTo:"audi"}]},{path:"sell",component:he},{path:"**",redirectTo:"buy"}]}])]]}),e})()}}]);